<!DOCTYPE html>
<html>

<head>
	<title>Smart Home</title>
	<link rel="shortcut icon" href="smartphone.png" type="image/x-icon">
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="webArduinoRpi.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css">
	<script src="socket.io/socket.io.js"></script>
</head>

<body>
	<div class="container-fluid">
		<div class="row red">
			<div class="col-md-6 switch" id="sw1">
				<input id='1' type='button' class='btn btn-dark btn_sw' value='Switch 1' onclick='toggle(this.id)'>
			</div>
			<div class="col-md-6 switch" id="sw2">
				<input id='2' type='button' class='btn btn-dark btn_sw' value='Switch 2' onclick='toggle(this.id)'>
			</div>
		</div>
		<div class="row red">
			<div class="col-md-6 switch" id="sw3">
				<input id='3' type='button' class='btn btn-dark btn_sw' value='Switch 3' onclick='toggle(this.id)'>
			</div>
			<div class="col-md-6 switch" id="sw4">
				<input id='4' type='button' class='btn btn-dark btn_sw' value='Switch 4' onclick='toggle(this.id)'>
			</div>
		</div>
		<div class="row red">
			<div class="col-md-6 switch" id="sw5">
				<input id='5' type='button' class='btn btn-dark btn_sw' value='Switch 5' onclick='toggle(this.id)'>
			</div>
			<div class="col-md-6 switch" id="sw6">
				<input id='6' type='button' class='btn btn-dark btn_sw' value='Switch 6' onclick='toggle(this.id)'>
			</div>
		</div>
		<div class="row red">
			<div class="col-md-6 switch" id="sw7">
				<input id='7' type='button' class='btn btn-dark btn_sw' value='Switch 7' onclick='toggle(this.id)'>
			</div>
			<div class="col-md-6 switch" id="sw8">
				<input id='8' type='button' class='btn btn-dark btn_sw' value='Switch 8' onclick='toggle(this.id)'>
			</div>
		</div>
	</div>
</body>


<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>

<script>
	var socket = io.connect(location.host + "/arduino");
	var command = document.getElementById("command");
	var button = document.getElementById("send");
	var result = document.getElementById("result");

	var switches = [false, false, false, false, false, false, false, false];

	function toggle(id) {
		var elemId = "sw" + id;
		if (switches[id - 1] == false) {
			document.getElementById(elemId).innerHTML =
				"<input id='" + id + "'type='button' class='btn btn-primary btn_sw' value='Switch " + id + "' onclick='toggle(this.id)'>"
			socket.emit("h");
			switches[id - 1] = true;
		} else {
			document.getElementById(elemId).innerHTML =
				"<input id='" + id + "'type='button' class='btn btn-dark btn_sw' value='Switch " + id + "' onclick='toggle(this.id)'>"
			socket.emit("l");
			switches[id - 1] = false;
		}
	}
</script>

</html>